{% extends "portfolio_base.html" %}

{% block portfolio_content %}
<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1>Blog</h1>
        <p>Thoughts on technology, research, learning, and life</p>
    </div>
</section>

<!-- Blog Posts Section -->
<section class="blog-posts">
    <div class="container">

        <div class="blog-info">
            <p class="coming-soon-notice">
                Blog posts coming soon! I'll be sharing insights about:
            </p>
            <ul class="blog-topics">
                <li>Building Jal Sarovar: From idea to deployment</li>
                <li>Research at Johns Hopkins: Solar cell optimization journey</li>
                <li>Y Combinator AI Startup School: Key takeaways</li>
                <li>Teaching STEM to underserved communities</li>
                <li>Balancing academics, sports, and creative pursuits</li>
                <li>Machine Learning applications for social impact</li>
                <li>Lessons from competitive badminton</li>
            </ul>
        </div>

        <!-- Placeholder for future blog posts -->
        <div class="blog-grid" id="blog-grid">
            <div class="blog-placeholder">
                <div class="placeholder-icon">üìù</div>
                <h3>More Content Coming Soon</h3>
                <p>I'm working on some exciting articles about my projects, research experiences, and lessons learned. Check back soon!</p>
            </div>
        </div>

    </div>
</section>

<!-- Subscribe Section -->
<section class="subscribe-section">
    <div class="container">
        <h2>Stay Updated</h2>
        <p>Want to know when I publish new articles?</p>
        <a href="{{ url_for('portfolio.contact') }}" class="btn btn-primary">Get in Touch</a>
    </div>
</section>

<script>
    // Blog functionality - load articles from JSON when available
    async function loadBlogPosts() {
        try {
            const response = await fetch('{{ url_for("static", filename="portfolio/content/blog/articles.json") }}');
            const data = await response.json();

            if (data.articles && data.articles.length > 0) {
                displayBlogPosts(data.articles);
            }
        } catch (error) {
            console.log('No blog posts available yet');
        }
    }

    function displayBlogPosts(articles) {
        const grid = document.getElementById('blog-grid');

        // Sort by date (newest first)
        articles.sort((a, b) => new Date(b.date) - new Date(a.date));

        grid.innerHTML = articles.map(article => `
            <article class="blog-card">
                ${article.image ? `<div class="blog-image">
                    <img src="{{ url_for('static', filename='portfolio/') }}${article.image}" alt="${article.title}" loading="lazy">
                </div>` : ''}
                <div class="blog-content">
                    <div class="blog-meta">
                        <span class="blog-date">${formatDate(article.date)}</span>
                        ${article.readTime ? `<span class="blog-read-time">${article.readTime} min read</span>` : ''}
                    </div>
                    <h3 class="blog-title">${article.title}</h3>
                    <p class="blog-excerpt">${article.excerpt}</p>
                    <a href="{{ url_for('portfolio.blog') }}/${article.slug}" class="blog-read-more">Read More ‚Üí</a>
                </div>
            </article>
        `).join('');
    }

    function formatDate(dateString) {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return new Date(dateString).toLocaleDateString('en-US', options);
    }

    // Load blog posts on page load
    loadBlogPosts();
</script>
{% endblock %}
