# ============================================================================
# Jal Sarovar Production Environment Configuration
# ============================================================================
#
# IMPORTANT: Copy this file to .env and fill in your production values
# cp .env.production.example .env
#
# SECURITY: Never commit .env to version control!
# ============================================================================

# Flask Application
FLASK_APP=app.py
FLASK_ENV=production
SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_64_CHAR_STRING

# Database Configuration - PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=jal_sarovar_prod
DB_USER=postgres
DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD

# Application Settings
PORT=8000
DEBUG=False
LOG_LEVEL=INFO
WORKERS=4

# Database Connection Pool Settings
DB_POOL_SIZE=10
DB_POOL_RECYCLE=3600
DB_MAX_OVERFLOW=20

# ML Models and Uploads
ML_MODELS_PATH=app/ml/models
MAX_CONTENT_LENGTH=52428800
UPLOAD_FOLDER=/var/www/jalsarovar/uploads

# Security Settings
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
PERMANENT_SESSION_LIFETIME=86400

# Timezone
TZ=Asia/Kolkata

# ============================================================================
# OAuth & Email Configuration
# ============================================================================

# Google OAuth (REQUIRED for "Sign in with Google" feature)
# Get credentials from: https://console.cloud.google.com/apis/credentials
#
# PRODUCTION SETUP:
# 1. Create new OAuth 2.0 Client ID for production domain
# 2. Add authorized JavaScript origins: https://yourdomain.com
# 3. Add authorized redirect URIs: https://yourdomain.com/auth/google/callback
GOOGLE_CLIENT_ID=your-production-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-production-client-secret
OAUTHLIB_INSECURE_TRANSPORT=0  # Must be 0 for production (HTTPS required)

# Email Configuration (REQUIRED for email verification and password reset)
#
# RECOMMENDED: SendGrid (High deliverability, easy setup)
# Get API key from: https://app.sendgrid.com/settings/api_keys
MAIL_SERVER=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=SG.your-sendgrid-api-key-here
MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# ALTERNATIVE: Gmail SMTP (For testing, not recommended for high volume)
# Get app password from: https://myaccount.google.com/apppasswords
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-gmail-app-password
# MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# ALTERNATIVE: AWS SES (For high volume, excellent deliverability)
# MAIL_SERVER=email-smtp.us-east-1.amazonaws.com
# MAIL_PORT=587
# MAIL_USERNAME=your-aws-smtp-username
# MAIL_PASSWORD=your-aws-smtp-password
# MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# Application URL (used in email links)
# MUST match your production domain
SITE_URL=https://yourdomain.com

# ============================================================================
# Production Deployment Checklist
# ============================================================================
#
# Before deploying to production, ensure you have:
#
# 1. SECURITY
#    [ ] Changed SECRET_KEY to a new random 64-character string
#    [ ] Changed DB_PASSWORD to a strong password
#    [ ] Set SESSION_COOKIE_SECURE=True
#    [ ] Set OAUTHLIB_INSECURE_TRANSPORT=0
#    [ ] Set DEBUG=False
#    [ ] Set FLASK_ENV=production
#
# 2. OAUTH
#    [ ] Created production OAuth credentials in Google Cloud Console
#    [ ] Added production domain to authorized origins
#    [ ] Added /auth/google/callback to authorized redirects
#    [ ] Tested OAuth flow in production
#
# 3. EMAIL
#    [ ] Set up SendGrid account or SMTP service
#    [ ] Configured MAIL_* settings with real credentials
#    [ ] Tested email sending (verification, password reset)
#    [ ] Configured SPF/DKIM records for your domain
#
# 4. DATABASE
#    [ ] Created production PostgreSQL database
#    [ ] Run migrations: flask db upgrade
#    [ ] Created database backups
#    [ ] Configured connection pooling
#
# 5. INFRASTRUCTURE
#    [ ] Installed and configured Redis
#    [ ] Configured Nginx as reverse proxy
#    [ ] Set up SSL/TLS certificates (Let's Encrypt)
#    [ ] Configured firewall rules
#
# 6. MONITORING
#    [ ] Set up error logging (Sentry recommended)
#    [ ] Configure application monitoring
#    [ ] Set up database backup schedule
#    [ ] Configure alerts for critical errors
#
# 7. TESTING
#    [ ] Test all authentication flows (login, register, OAuth)
#    [ ] Test email verification and password reset
#    [ ] Test role approval workflow
#    [ ] Test rate limiting
#    [ ] Load testing completed
#
# ============================================================================
